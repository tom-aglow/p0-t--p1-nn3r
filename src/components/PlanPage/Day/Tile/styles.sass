@import 'styles/vars.sass'

$tile-size: calc(200px - #{$pm-sm})
$animation-time: 0.4s

.Tile
  width: $tile-size
  height: $tile-size
  padding: $pm-sm
  border: 1px solid $color-fill-mediumgrey
  margin: -1px 0 0 -1px
  cursor: pointer
  transform-origin: center

  // Hover on desktops
  @media screen and (min-width: $bp-screen-md)
    &:hover
      animation: rise $animation-time forwards ease-out
      box-shadow: 0px 1px 20px 0px rgba(0,0,0,0.1)


    &.hover-end
      animation: fall $animation-time forwards ease-out

  // disable on touchscreens
  @media (hover: none)
    &:hover
      animation: none
      box-shadow: 0px 1px 20px 0px rgba(0,0,0,0)


    &.hover-end
      animation: none


  @media screen and (max-width: $bp-screen-sm)
    width: 140px
    height: 140px
    padding: $pm-xs
    font-size: $font-size-sm



//  Enter/Leave animations

.Tile
  &.tile-exit
    opacity: 1

  &.tile-exit-active
    opacity: 0.01
    transition: opacity 500ms ease-out

  &.tile-enter,
  &.tile-enter-active,
  &.tile-enter-done
    opacity: 0
    transform: translateY(-40px)

  &.tile-enter-custom
    animation: slideInTile 3000ms forwards ease-out 200ms

  &.tile-enter-done-custom
    opacity: 1
    transform: translateY(0)

.tile-update
  transform: scale(1.05)
  animation: fall 2000ms forwards ease-out 200ms



@keyframes rise
  0%
    transform: scale(1)
    z-index: 0
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0)
  5%
    transform: scale(1)
    z-index: 2
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0)

  100%
    transform: scale(1.05)
    z-index: 2
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0.1)


@keyframes fall
  0%
    transform: scale(1.05)
    z-index: 2
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0.1)
  5%
    transform: scale(1.05)
    z-index: 1
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0.1)
  95%
    transform: scale(1)
    z-index: 1
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0)
  100%
    transform: scale(1)
    z-index: 0
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0)


@keyframes slideInTile
  0%
    opacity: 0
    transform: translateY(-40px)
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0.15)
  15%
    opacity: 1
    transform: translateY(0)
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0.15)
  100%
    box-shadow: 0px 1px 20px 0px rgba(0,0,0,0)
    opacity: 1
    transform: translateY(0)
